{"version":3,"file":"react-responsive.modern.js","sources":["../src/hook.ts","../src/MediaQuery.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\n\r\ntype Query = { query: string };\r\n\r\nexport const useMediaQuery = ({ query }: Query): boolean => {\r\n    const [isMatch, setIsMatch] = useState(\r\n        () => window.matchMedia(query).matches\r\n    );\r\n    useEffect(() => {\r\n        const matchMedia = window.matchMedia(query);\r\n        setIsMatch(matchMedia.matches);\r\n        const mediaCallback = (e: MediaQueryListEvent) => {\r\n            setIsMatch(e.matches);\r\n        };\r\n        matchMedia.addEventListener(\"change\", mediaCallback);\r\n        return () => {\r\n            matchMedia.removeEventListener(\"change\", mediaCallback);\r\n        };\r\n    }, [query]);\r\n    return isMatch;\r\n};\r\n","import React from \"react\";\r\nimport { useMediaQuery } from \"./hook\";\r\ntype RequireAtLeastOne<T, Keys extends keyof T = keyof T> = Pick<\r\n    T,\r\n    Exclude<keyof T, Keys>\r\n> &\r\n    {\r\n        [K in Keys]-?: Required<Pick<T, K>> &\r\n            Partial<Pick<T, Exclude<Keys, K>>>;\r\n    }[Keys];\r\n\r\ninterface MediaFunctionsTypes {\r\n    orientation: \"landscape\" | \"portrait\";\r\n    minResolution: number | `${number}dppx`;\r\n    maxResolution: number | `${number}dppx`;\r\n    minWidth: number;\r\n    maxWidth: number;\r\n    minHeight: number;\r\n    maxHeight: number;\r\n}\r\n\r\ntype MediaQueryProps = RequireAtLeastOne<MediaFunctionsTypes> & {\r\n    children: React.ReactNode | ((matches: boolean) => React.ReactNode);\r\n};\r\n\r\nfunction parsePropsKey(string: string) {\r\n    return string.replace(/(?<=[a-z])(?=[A-Z])/g, \"-\").toLowerCase();\r\n}\r\n\r\nfunction getUnit(key: string, value: any) {\r\n    if (/resolution/i.test(key)) {\r\n        if (typeof value === \"number\") {\r\n            return `${value}dppx`;\r\n        } else {\r\n            return value;\r\n        }\r\n    }\r\n    if (/width/i.test(key) || /height/i.test(key)) {\r\n        return `${value}px`;\r\n    }\r\n    return value;\r\n}\r\n\r\nexport default function MediaQuery(props: MediaQueryProps) {\r\n    const generatorMediaQuery = (): string => {\r\n        const entries = Object.entries(props);\r\n        return entries\r\n            .map(([key, value], index) => {\r\n                if (key !== \"children\") {\r\n                    if (index === 0) {\r\n                        return `(${parsePropsKey(key)}: ${getUnit(\r\n                            key,\r\n                            value\r\n                        )})`;\r\n                    } else {\r\n                        return ` and (${parsePropsKey(key)}: ${getUnit(\r\n                            key,\r\n                            value\r\n                        )})`;\r\n                    }\r\n                } else {\r\n                    return \"\";\r\n                }\r\n            })\r\n            .join(\"\");\r\n    };\r\n\r\n    const allConditions = useMediaQuery({ query: generatorMediaQuery() });\r\n\r\n    return typeof props.children === \"function\" ? (\r\n        <>{props.children(allConditions)}</>\r\n    ) : allConditions ? (\r\n        <>{props.children}</>\r\n    ) : null;\r\n}\r\n"],"names":["useMediaQuery","query","isMatch","setIsMatch","useState","window","matchMedia","matches","useEffect","mediaCallback","e","addEventListener","removeEventListener","string","replace","toLowerCase","getUnit","key","value","test","MediaQuery","props","allConditions","Object","entries","map","index","parsePropsKey","join","children","_jsx","_Fragment"],"mappings":"sGAIaA,MAAaA,EAAG,EAAGC,YAC5B,MAAOC,EAASC,GAAcC,EAC1B,IAAMC,OAAOC,WAAWL,GAAOM,SAanC,OAXAC,EAAU,KACN,QAAmBH,OAAOC,WAAWL,GACrCE,EAAWG,EAAWC,SACtB,MAAmBE,EAAIC,IACnBP,EAAWO,EAAEH,UAGjB,OADAD,EAAWK,iBAAiB,SAAUF,GAC/B,KACHH,EAAWM,oBAAoB,SAAUH,KAE9C,CAACR,IACGC,GCMX,WAAuBW,GACnB,OAAOA,EAAOC,QAAQ,uBAAwB,KAAKC,cAGvD,SAASC,EAAQC,EAAaC,GAC1B,MAAI,cAAcC,KAAKF,GACE,mBACV,GAAGC,UAKd,SAASC,KAAKF,IAAQ,UAAUE,KAAKF,GAC9B,GAAGC,MAGjBA,EAEuB,SAAAE,EAAWC,GAC/B,MAuBmBC,EAAGtB,EAAc,CAAEC,MAtBlBsB,OAAOC,QAAQH,GAE1BI,IAAI,EAAER,EAAKC,GAAQQ,IACJ,aAART,EACc,IAAVS,EACW,IAAAC,EAAcV,OAASD,EAC9BC,EACAC,MAGY,SAAAS,EAAcV,OAASD,EACnCC,EACAC,MAID,IAGdU,KAAK,MAKd,MAAiC,mBAAdP,EAACQ,sBAChBC,EAAAC,EAAA,CAAAF,SAAGR,EAAMQ,SAASP,KAClBA,eACAQ,EAAAC,EAAA,CAAAF,SAAGR,EAAMQ,WACT"}